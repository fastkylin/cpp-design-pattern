aux_source_directory(. srcs)
foreach(each ${srcs})
string(REPLACE ".cpp" "" target_name "${each}")
string(REPLACE "./" "" target_bin "${target_name}")
add_executable(${target_bin} ${each})
add_test(NAME ${target_bin}-test COMMAND ${target_bin})
endforeach(each)
